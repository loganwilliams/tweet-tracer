(this["webpackJsonptweet-viz"]=this["webpackJsonptweet-viz"]||[]).push([[0],{71:function(t,e,a){t.exports=a(79)},76:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){"use strict";a.r(e);var s=a(0),r=a.n(s),n=a(51),i=a.n(n),o=(a(76),a(52)),c=a(8),l=a(9),u=a(11),d=a(12),m=a(13),f=a(81),v=a(2),w=a.n(v),h=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={sortBy:"favorite_count",hideRepeatedRTs:!0},s}return Object(l.a)(a,[{key:"render",value:function(){var t=this;if(!this.props.date)return r.a.createElement("div",null);var e=this.props.tweets;if(this.state.hideRepeatedRTs){var a={};e.forEach((function(t){t.retweeted_status_id&&!a.hasOwnProperty(t.retweeted_status_id)&&(a[t.retweeted_status_id]=t)})),e=e.filter((function(t){return!t.retweeted_status_id})).concat(Object.values(a))}else this.props.activeTweet&&(e=e.filter((function(e){return e.retweeted_status_id===t.props.activeTweet||e.id===t.props.activeTweet})));return e="created_at"===this.state.sortBy?e.sort((function(e,a){return w()(e[t.state.sortBy])-w()(a[t.state.sortBy])})):e.sort((function(e,a){return a[t.state.sortBy]-e[t.state.sortBy]})),this.props.full||(e=e.slice(0,10)),r.a.createElement("div",{className:"TweetList"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"number"},e.length+" displayed / "+this.props.tweets.length+" total tweets from "+this.props.date.format("YYYY-MM-DD HH:mm")+" to "+w()(this.props.date).add(1,"h").format("YYYY-MM-DD HH:mm"))),r.a.createElement("div",{className:"options"},r.a.createElement("div",{className:"button"+("favorite_count"===this.state.sortBy?" active":""),onClick:function(){return t.setState({sortBy:"favorite_count"})}},"Sort by favorites"),r.a.createElement("div",{className:"button"+("retweet_count"===this.state.sortBy?" active":""),onClick:function(){return t.setState({sortBy:"retweet_count"})}},"Sort by RTs"),r.a.createElement("div",{className:"button"+("created_at"===this.state.sortBy?" active":""),onClick:function(){return t.setState({sortBy:"created_at"})}},"Sort by time"),r.a.createElement("div",{className:"button"+(this.state.hideRepeatedRTs?" active":""),onClick:function(){return t.setState({hideRepeatedRTs:!t.state.hideRepeatedRTs})}},"Hide repeated RTs?")),e.map((function(e){return r.a.createElement("div",{className:"tweet"+(e.id===t.props.activeTweet||e.retweeted_status_id&&e.retweeted_status_id===t.props.activeTweet?" active":""),onClick:function(){return e.retweeted_status_id?t.props.setTweet(e.retweeted_status_id):t.props.setTweet(e.id)}},r.a.createElement("div",{className:"timestamp"},w()(e.created_at).utc().format("HH:mm")),r.a.createElement("div",{className:"favs"},e.favorite_count+" favs"),r.a.createElement("div",{className:"rts"},e.retweet_count+" RTs"),r.a.createElement("div",{className:"screenname"},r.a.createElement("a",{href:"https://twitter.com/"+e.screen_name,target:"blank",onClick:function(t){return t.stopPropagation()}},e.screen_name+" ("+e.followers_count+"/"+e.friends_count+")")),r.a.createElement("div",{className:"text"},e.text))})))}}]),a}(s.Component),p=(a(78),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={data:[],group:null,date:null,tweets:[],mousing:!0,filterRetweets:!1,filterRetweetId:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;m.a("subset.csv").then((function(e){e=e.map((function(t){return Object(o.a)({},t,{retweet_count:t.retweet_count<t.retweeted_status_retweet_count?t.retweeted_status_retweet_count:t.retweet_count})}));var a=f.a(e,(function(t){return w()(t.created_at).utc().format("DDD HH")}));t.setState({data:e,group:a})}))}},{key:"mouseOver",value:function(t,e,a){a||(a=[]),this.setState({tweets:a,date:w()(t+" "+e,"DDD HH")})}},{key:"setTweet",value:function(t){t===this.state.filterRetweetId?this.setState({filterRetweetId:!1}):this.setState({filterRetweetId:t})}},{key:"render",value:function(){var t=this;if(!this.state.group)return r.a.createElement("div",null,"Loading, this could take several minutes.");var e=function(e){return t.state.filterRetweetId?+e.retweeted_status_id===+t.state.filterRetweetId:!t.state.filterRetweets||!e.retweeted_status_id},a=[];this.state.group.forEach((function(t){t=t.filter(e),a.push(t.length)}));for(var s=[],n=function(n){for(var i=[r.a.createElement("div",{className:"label",key:"label"},w()(n,"DDD").format("MMM Do"))],o=function(s){var o,c=t.state.group.get(n+" "+String(s).padStart(2,"0")),l=(c=(c=c||[]).filter(e)).length;i.push(r.a.createElement("div",{key:s+n,className:"val"+(t.state.mousing||t.state.date.format()!==w()(n+" "+s,"DDD HH").format()?"":" active"),onMouseOver:function(){return t.state.mousing?t.mouseOver(n,s,c):null},onClick:function(){t.mouseOver(n,s,c),t.setState({mousing:!t.state.mousing})},style:{backgroundColor:0===l?"black":(o=l,m.b(Math.sqrt(o/m.c(a))))}}))},c=0;c<24;c++)o(c);s.push(r.a.createElement("div",{className:"row",key:n},i))},i=248;i<256;i++)n(i);return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"options"},r.a.createElement("div",{className:"title"},"Visualization of tweet dataset"),r.a.createElement("div",{className:"button"+(this.state.filterRetweets?" active":""),onClick:function(){return t.setState({filterRetweets:!t.state.filterRetweets})}},"Filter out retweets"),this.state.filterRetweetId?r.a.createElement("div",{className:"button",onClick:function(){return t.setState({filterRetweetId:!1})}},"View all tweets"):null),r.a.createElement("div",{className:"viz"},s)),r.a.createElement("div",{className:"right"},r.a.createElement(h,{full:!this.state.mousing,tweets:this.state.tweets,date:this.state.date,setTweet:this.setTweet.bind(this),activeTweet:this.state.filterRetweetId})))}}]),a}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.dfc0b387.chunk.js.map